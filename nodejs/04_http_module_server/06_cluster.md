# cluster
- 기본적으로 싱글 스레드인 노드가 CPU 코어를 모두 사용할 수 있게 해주는 모듈
- 포트를 공유하는 노드 프로세스를 여러 개 둘 수 있음
- 요청이 많이 들어오면 병렬로 실행된 서버의 개수만큼 요청 분산
- 서버에 무리가 덜 감
- 보통은 코어 하나만 사용하지만 코어 하나당 노드 프로세스 하나를 배정 가능
- 성능이 배수가 되는건 아니고 개선됨
- 컴퓨터 자원(메모리, 세션 등) 공유 못 함
- redis 등 별도 서버로 해결
- 서버가 꺼지더라도 다시 살릴 수 있음

## cluster의 일의 분배
- worker들에게 round robin 알고리즘에 따라서 일을 고르게 분배

### worker thread 와 cluster
- `worker thread` 는 쓰레드를 여러 개 만드는 것
- `cluster` 는 프로세스를 여러 개 만드는 것

# scheduling
- 처리할 일들의 진행 순서를 정하는 일
- 처리율과 CPU 이용률을 증가시키고 
- 오버헤드, 응답시간, 반환시간, 대기시간을 최소화 시키기 위한 기법 (쉬지않고 열심히 일하도록 계획을 잡아주는 것)
## 비선점 scheduling
- 이미 할당된 CPU를 다른 프로세스가 강제로 빼앗아 사용할 수 없는 기법
- 사용 시간이 짧은 여러 프로세스를 오랫동안 대기시킬 수 있음
- 처리율이 다소 떨어질 수 있음
### FIFO(First In First Out)
- 선입 선출
### SJF(Shortest Remaining Time First Scheduling)
- CPU 점유 시간이 가장 짧은 프로세스에 CPU를 먼저 할당
### HRN(Highest Response-ratio Next)
- 우선순위 = (대기시간+서비스시간)/서비스시간
- 우선순위가 높은 것부터 실행
- `에이징(Aging)`: 프로세스가 자원을 기다리는 시간에 비례해 우선순위를 부여해 무한 연기의 문제를 방지하는 것
## 선점 scheduling
- 우선 순위가 높은 다른 프로세스가 CPU를 강제로 빼앗아 사용할 수 있는 기법
- 모든 프로세스에게 CPU 사용 시간을 동일하게 부여할 수 있음
### SRT(Shortest Remaining Time)
- `SJF` 기법을 선점 형태로 변경한 기법
- 중요한 프로세스가 있으면 점유시간이 길어도 먼저 실행할 권한을 주는 것
### RR(Round Robin)
- 우선순위를 두지 않고, 순서대로 시간단위로 CPU를 할당하는 방식
### MQ(다단계 큐, Multi-level Queue)
- 프로세스를 특정 그룹으로 분류할 수 있을 경우 그룹에 따라 각기 다른 분비 상태 큐를 사용하는 기법

