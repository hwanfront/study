# 노드
- v8 자바스크립트 엔진으로 빌드된 자바스크립트 런타임
  - 런타임: 간단하게 실행 한다는 뜻

## 노드 내부구조
```bash
┌──────────────────────┐
│ Node.js Core Library │
├──────────────────────┤
│ Node.js Bindings     │
├───────────┬──────────┤
│ V8        │ libuv    │
└───────────┴──────────┘
```
- V8: 오픈 소스 자바스크립트 엔진
- **libuv**: 이벤트 기반, 논블로킹 I/O 모델을 구현한 라이브러리, 비동기 I/O

# 노드의 특성
## event 기반
- event listener에 callback 함수 등록
- 시스템에서 event 발생하면 event listener에 전달
- event listener에 등록된 callback 함수 호출
## 논블로킹 I/O
- 동시가 아님, 프로그랭이 동시에 돌아가는 게 아님
- 간단하게 요약하면 두 가지 존재 (다른 경우도 만들자면 만들수는 있음;)
  - **동기**이면서 **블로킹**, 코드가 순서대로 실행됨
  - **비동기**이면서 **논블로킹**, 코드가 순서대로 실행되지 않음
- 논블로킹은 오래 걸리는 함수를 백그라운드로 보내 다음 코드가 먼저 실행되게 하고 실행 
- 논블로킹 방식 하에서 일부 코드는 백그라운드에서 병렬로 실행됨, I/O 작업이 많을 때 노드 활용성 극대화
## 프로세스 vs 스레드
- **프로세스**: OS에서 할당하는 작업 단위, 프로세스 간 자원 공유 X
- **스레드**: 프로세스 내에서 실행되는 작업 단위, 부모 프로세스 자원 공유
  - 싱글 스레드
    - 주어진 일을 하나밖에 처리하지 못함 => 나머지 작업 모두 대기 => 비효율적
    - 에러 발생 시 에러를 처리하지 못하면 멈춤
  - 멀티 스레드
    - 에러 발생 시 새로운 스레드 생성하여 극복
    - 스레드 만큼 자원을 많이 사용하고, 생성과 처리에 비용 발생
    - 난이도 어려움
  - node 는 싱글 스레드에 논 블로킹 모델 채택
    - 요청을 먼저 받고 완료될 때 응답함
- 노드 프로세스는 멀티 스레드지만 직접 다룰 수 있는 스레드가 하나이기 떄문에 싱글 스레드라고 표현
- 주로 멀티 스레드 대신 멀티 프로세스 활용, 멀티 스레드 사용 가능함
# 서버로서의 노드
- 서버: 네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터 또는 프로그램
- 클라이언트: 서버에 요청을 보내는 주체
- 노드는 서버를 구성할 수 있게 하는 모듈을 제공하지만 서버 그 자체는 아님
## 노드 서버 장단점
- 장점
  - 멀티 스레드 방식에 비해 자원을 적게 사용함
  - I/O 작업 많은 서버로 적합
  - 멀티 스레드 방식보다 쉬움
  - 웹 서버 내장
  - javascript 사용
  - JSON 형식과 호환 쉬움
- 단점
  - 싱글 스레드라서 CPU 코어를 하나만 사용
  - CPU 작업이 많은 서버로 부적합
  - 하나뿐인 스레드가 멈추지 않도록 관리
  - 서버 규모가 커졌을 때 서버 관리 어려움
  - 어중간한 성능
## 서버 외의 노드
- javascript는 런타임, 서버에만 한정되지 않음
- 웹, 모바일, 데스크탑 애플리케이션에 사용
  - 웹 앱 프레임워크, 데스크탑 개발 도구 등
  